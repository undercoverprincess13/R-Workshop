
---
title: "R Cheatsheet: Grundlagen mit ErklÃ¤rungen"
output: html_document
---

# âœ R-Notation â€“ Grundlagen

## ğŸ”¹ Zuweisung von Variablen

```r
x <- 5
y = 10
```
Weist Werte an Variablen zu. `<-` ist in R die bevorzugte Schreibweise (Alternative: `=`).

## ğŸ”¹ Vektoren erstellen

```r
zahlen <- c(1, 2, 3, 4)
namen <- c("Anna", "Ben", "Eva")
```
`c()` steht fÃ¼r â€combineâ€œ und erstellt Vektoren â€“ geordnete Sammlungen gleichartiger Elemente (Zahlen, Zeichenketten etc.).

## ğŸ”¹ Zugriff auf Vektor-Elemente

```r
zahlen[1]
zahlen[2:4]
```
Zugriff Ã¼ber Index in eckigen Klammern â€“ beginnt in R bei 1 (nicht bei 0 wie in Python).

## ğŸ”¹ Grundrechenarten und logische Operatoren

```r
a + b; a - b; a * b; a / b; a ^ 2
x == y; x != y; x > y; x < y; x & y; x | y; !x
```
Grundoperationen und logische Vergleiche 
wichtig z.â€¯B. fÃ¼r Filterungen und Bedingungen

## ğŸ”¹ Funktionen auf Vektoren anwenden

```r
mean(zahlen)   
sum(zahlen)
length(zahlen)
```
R bietet viele eingebaute Funktionen zur Analyse von Vektoren.
mean = funktion 
zahlen = Daten in diesem Fall der Vektor kÃ¶nnte auch eine Spalte eines Datenframes sein 

# ğŸ¯ Grundlagen aus dem Live Coding

## ğŸ“¦ Packages installieren & laden

```r
install.packages("readxl")
install.packages("tidyverse")
library(readxl)
library(tidyverse)
library(dplyr)
```
`install.packages()` installiert ein Paket dauerhaft (einmalig). `library()` lÃ¤dt es in die aktuelle Sitzung (jedes Mal nÃ¶tig).

## ğŸ“‚ Excel-Datei importieren

```r
Scooby <- read_excel("Pfad/zur/Datei.xlsx")
view(Scooby)
```
- `read_excel()` lÃ¤dt eine Excel-Datei als DataFrame.
- `"Pfad/zur/Datei.xlsx"` muss durch den tatsÃ¤chlichen Dateipfad ersetzt werden.
- `Scooby` ist der selbstgewÃ¤hlte Name fÃ¼r den Datensatz.
- `view(Scooby)` Ã¶ffnet den Datensatz im Tabelleneditor von RStudio.

## ğŸ” Erste Analysen | Auf Spalte im Dataframe zugreifen

```r
mean(Scooby$run_time)
mean(Scooby$imdb, na.rm = TRUE)
```
- Mit `$` greifst du auf eine Spalte im DataFrame zu.
- `mean()` berechnet den Mittelwert.
- `na.rm = TRUE` ignoriert fehlende Werte (`NA`), die sonst Fehler verursachen kÃ¶nnen.

## â“ï¸Hilfe & Beispieldaten

```r
data()
?mpg
?mean
```
- `data()` zeigt eingebaute Beispiel-DatensÃ¤tze.
- `?funktion` Ã¶ffnet die Hilfe zur Funktion sehr nÃ¼tzlich bei Unsicherheiten.

## ğŸ‘€ Ãœbersicht mit str()

```r
glimpse(mpg)
```
`str()` zeigt die interne Struktur eines Objekts, z.B. eines Data Frames. Es gibt Spaltennamen, Datentypen und Vorschauwerte aus untereinander und im kompakten Format. 


## ğŸ‘€ Ãœbersicht mit glimpse()

```r
glimpse(mpg)
```
`glimpse()` zeigt Spaltennamen, Typen und Vorschauwerte auf einen Blick. Kompakter und Ã¼bersichtlicher als `str()`.

## ğŸ” Filtern mit filter()

```r
mpg_efficient <- filter(mpg, cty >= 20)
mpg_ford <- filter(mpg, manufacturer == "ford")
```
- `filter()` wÃ¤hlt nur Zeilen, die eine Bedingung erfÃ¼llen. Aus dem Datensatz mpg soll City grÃ¶ÃŸer oder gleich 20 sein. Aus dem Datensatz mpg soll manufacturer dem String Ford entsprechen. 
- `==` vergleicht Werte; `=` wÃ¼rde hier nicht funktionieren.
- Ergebnis wird in neuen Objekten gespeichert (mpg_efficient und mpg_ ford)

## ğŸ”— Pipes verwenden

```r
mpg_metric <- mpg %>% mutate(cty_metric = 0.425144 * cty)
```
- `%>%` ist die Pipe: leitet das Ergebnis von links an die Funktion rechts weiter.
- Macht Code lesbarer (â€nimm das dataframe mpg (links) und gebe es an die Funktion rechts (mutate) weiter und dann wird mutate mit dem Dataframe mpg ausgefÃ¼hrt).

## â•  Spalte verÃ¤ndern mit mutate()
```r
mpg_filtered <- mpg %>%
  rename(city_mpg = cty) %>%
  filter(city_mpg > 20)

```
- rename() benennt die Spalte cty um in city_mpg.
- filter() behÃ¤lt nur Zeilen, bei denen city_mpg grÃ¶ÃŸer als 20 ist.
- Das Ergebnis wird in mpg_filtered gespeichert.

## â• Neue Spalten mit mutate()

```r
mpg_metric <- mutate(mpg, cty_metric = 0.425144 * cty)
```
- `mutate()` erzeugt neue Spalten oder verÃ¤ndert bestehende.
- Hier: Umrechnung von Meilen pro Gallone in Liter pro 100km in die neue Spalte mpg_metric gespeichert


## ğŸ§® Gruppieren & Zusammenfassen

```r
mpg %>%
  group_by(class) %>%
  summarise(mean_cty = mean(cty), median_cty = median(cty))
```
- `group_by()` gruppiert Daten nach Kategorien.
- `summarise()` berechnet Kennzahlen je Gruppe (z.â€¯B. Durchschnitt).

## ğŸ“Š Visualisierung mit ggplot2

```r
ggplot(mpg, aes(x = cty)) + geom_histogram()

ggplot(mpg, aes(x = cty, y = hwy)) + geom_point()

ggplot(mpg, aes(x = cty, y = hwy, color = class)) +
  geom_point() +
  scale_color_brewer(palette = "Dark2")
```
- `ggplot2` ist Râ€™s Hauptpaket fÃ¼r Visualisierung.
- `aes()` definiert Achsen und Farben.
- `geom_*()` bestimmt die Darstellungsform (z.B. Punkte, Histogramm).
- `+` verknÃ¼pft Ebenen im Plot.

# ğŸ“ R Markdown

R Markdown vereint Text, Code und Ausgaben in einem dynamischen Dokument. Dieses Dokument selbst ist ein R Markdown (.Rmd) Dokument. Du kannst es als HTML, PDF oder Word-Bericht rendern. Ideal fÃ¼r dokumentierte Analysen und PrÃ¤sentationen.
